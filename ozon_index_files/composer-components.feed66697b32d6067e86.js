(self.webpackChunk_ozon_ozon_ru=self.webpackChunk_ozon_ozon_ru||[]).push([["composer-components"],{ce953:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var o=n("ec5a1"),r=n("5039e"),c=function(content,t,e){var component=content;if("function"==typeof content)return content;if("object"!=typeof content)throw new r.H(o._.WRONG_WIDGET_CONTENT);if(content.desktop&&content.mobile&&(component=component[e]),"function"==typeof component)return component;if(!component.versions)throw new r.H(o._.WRONG_WIDGET_VERSION);return"1"===t||component.default&&Object.keys(component.versions).length&&!component.versions[t]?component.default:component.versions[t]}},b1b6c:(t,e,n)=>{"use strict";n.d(e,{S:()=>r});var o={};function r(t,e){return void 0===t&&(t=""),void 0===e&&(e=""),o[t]||(o[t]={}),o[t][e]||(o[t][e]=c(t)+c(e)),o[t][e]}function c(t){return void 0===t&&(t=""),t.charAt(0).toUpperCase()+t.substr(1)}},"9769e":(t,e,n)=>{"use strict";n.d(e,{Z:()=>D});var o=n("98bae"),r=n("a4df2"),c=n("49886");const l={name:"InViewportMixin",created:function(){this.widgetInViewport=!1,this.viewportEvents=[]},mounted:function(){var t=this;this.intersectionObserver=new IntersectionObserver((function(e){var n=e[0];if(!n)return!1;t.viewportEvents=t.viewportEvents.filter((function(t){return t.params.sendAlways?(t.callback(n.isIntersecting),!0):!n.isIntersecting||(t.callback(!0),!(t.params.once&&!t.params.store))}))})),this.$when("composer/GET_LAYOUT",this._reloadObserver),this.registerViewportEvent((function(e){t.widgetInViewport=e}),{sendAlways:!0}),this._bindViewportEvents()},beforeDestroy:function(){this._unbindViewportEvents(),this.$when.unsubscribe("composer/GET_LAYOUT",this._reloadObserver)},methods:{registerViewportEvent:function(t,e){void 0===e&&(e={});var n=function(t,e){return void 0===e&&(e={}),{params:e,callback:t,viewed:!1}}(t,e);return this.viewportEvents.push(n),n},_reloadObserver:function(){var t=this;this.$nextTick((function(){t.$el instanceof HTMLElement&&(t.intersectionObserver.unobserve(t.$el),t.intersectionObserver.observe(t.$el))}))},_bindViewportEvents:function(){this.$el instanceof HTMLElement&&this.intersectionObserver.observe(this.$el)},_unbindViewportEvents:function(){this.intersectionObserver.disconnect()}}};var d=n("6876d");const h={data:function(){return{hooks:{}}},methods:{hook:function(t,e,n){void 0===n&&(n={}),this.hooks[t]=this.hooks[t]||[],this.hooks[t].push({callback:e,params:n})},callHook:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return(0,o.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(!this.hooks[t])return[3,4];n=0,o.label=1;case 1:return n<this.hooks[t].length?[4,(r=this.hooks[t][n]).callback.apply(this,e)]:[3,4];case 2:o.sent(),r.params.once&&(this.hooks[t].splice(n,1),n--),o.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))}},beforeDestroy:function(){this.hooks=[]}};var f=n("ec5a1"),m=n("fe938"),y=n("5039e"),v=n("285a9"),w=n("4a039"),_=n("2974d");const O={mixins:[h,l],data:function(){return{isAsyncLoading:!1,isAsyncLoaded:!1,isAsyncDelay:!1,isAsyncFailed:!1,asyncLoadEvent:null}},props:{asyncType:{type:String,validator:function(t){return _.l.indexOf(t)>=0||void 0===t}},asyncHash:{type:String,default:""}},computed:{showAsyncLoader:function(){return this.asyncType&&!this.isAsyncLoaded}},created:function(){if(this.asyncType&&!this.asyncHash){var t=new m.m(f._.WIDGET_ASYNC_WITHOUT_HASH);return this.$logger.error(t),!1}this._tryToRegisterViewEvent()},mounted:function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return this.$when(["composer/GET_LAYOUT","composer/SET_COMPOSER_LAYOUT"],this.checkWidgetState),[4,this._tryToLoadOnMount()];case 1:return t.sent(),[2]}}))}))},beforeDestroy:function(){this.$when.unsubscribe(["composer/GET_LAYOUT","composer/SET_COMPOSER_LAYOUT"],this.checkWidgetState)},methods:(0,o.__assign)((0,o.__assign)({},(0,d.nv)("composer",{_replaceSharedStoreAction:"REPLACE_SHARED_STORE"})),{preventAsyncFetch:function(){this.isAsyncDelay=!0},checkWidgetState:function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t=this;return(0,o.__generator)(this,(function(e){return this.$nextTick((function(){return(0,o.__awaiter)(t,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return this.widgetState&&Object.keys(this.widgetState).length?[2]:this.isAsyncLoaded||this.isAsyncLoading?(this.isAsyncLoaded=this.isAsyncLoading=!1,this._tryToRegisterViewEvent(),[4,this._tryToLoadOnMount()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})),[2]}))}))},fetchAsyncState:function(t,e){return void 0===t&&(t=void 0),void 0===e&&(e=void 0),(0,o.__awaiter)(this,void 0,Promise,(function(){var n,r,c,l,d,h,f;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:n=this._getAsyncWidgetApi(),c=(r=this).asyncHash,l=r.componentName,d={asyncHash:c,componentName:l},void 0!==t&&(d.extraBody=t),void 0!==e&&(d.url=e),this.isAsyncLoading=!0,o.label=1;case 1:return o.trys.push([1,4,,5]),[4,n(d)];case 2:return h=o.sent(),[4,this._replaceAsyncState(h,t)];case 3:return o.sent(),[3,5];case 4:throw f=o.sent(),this.$logger.error(f),"acyncFailedHandler"in this&&this.acyncFailedHandler(f,e),this.isAsyncLoading=!1,this.isAsyncLoaded=!1,this.isAsyncFailed=!0,f;case 5:return this.isAsyncLoading=!1,this.isAsyncLoaded=!0,this.isAsyncFailed=!1,this.callHook("async::loaded"),this.$emit("state::loaded"),[2]}}))}))},_replaceAsyncState:function(t,e){return void 0===e&&(e=void 0),(0,o.__awaiter)(this,void 0,Promise,(function(){var n,r,c,l,d,h,m;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t.isSkip?[4,this.destroyWidget()]:[3,2];case 1:o.sent(),o.label=2;case 2:if(r=(n=this).asyncWidgetMapper,c=n.asyncSharedMapper,l=n.vertical,!t||"object"!=typeof t)throw new y.H(f._.WIDGET_ASYNC_EMPTY_RESPONSE);return d=t.state,h=t.verticalShared,m=t.trackingPayloads,d&&Object.keys(d).length&&(r&&"function"==typeof r&&(d=r(d,e)),this.setWidgetState(d)),h&&Object.keys(h).length&&(c&&"function"==typeof c&&(h=c(h)),this._replaceSharedStoreAction({vertical:l,verticalShared:h})),m&&Object.keys(m).length?[4,this.$store.dispatch("SET_TRACKING_PAYLOADS",m)]:[3,4];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))},_getAsyncWidgetApi:function(){var t=v.i.use(w.E);return t.widget.bind(t)},_tryToLoadOnMount:function(){return(0,o.__awaiter)(this,void 0,Promise,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return this._isAsyncByType(_.m.TYPE_ON_PAGE_LOAD)?[4,this.fetchAsyncState()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},_tryToRegisterViewEvent:function(){this._isAsyncByType(_.m.TYPE_ON_VIEWPORT)&&this.registerViewportEvent(this.fetchAsyncState,{once:!0})},_isAsyncByType:function(t){return this.asyncType===t&&this.asyncHash&&!this.isAsyncDelay}})};var T=n("ff287"),k=n.n(T),P=n("f9266"),E=n("bd7eb"),S=n("fc72e"),$=n("b8a65"),x=n("ee86b");const A={props:{trackingInfoProp:{type:[Object,String],default:function(){return{}}},trackingOn:{type:Boolean,default:!1},root:{type:Boolean,default:!1}},provide:function(){return{sendAEventInjection:this.sendAEvent,getWidgetTokenInjection:this.getWidgetToken}},computed:(0,o.__assign)((0,o.__assign)({},(0,d.rn)({pageToken:function(t){return k()(t,"pageToken","")},userToken:function(t){return k()(t,"userToken","")},isTrinityEvent:function(t){return k()(t,"experimentsConfig.isTrinityEvent",!1)},disableSendWidgetViewCE:function(t){return k()(t,"experimentsConfig.disableSendWidgetViewCE",!1)}})),{trackingInfo:function(){return"string"==typeof this.trackingInfoProp?JSON.parse(this.trackingInfoProp):this.trackingInfoProp}}),mounted:function(){var t=(k()(this.$store.state,"o3Params.x-o3-tracker-manager")||"on"===(0,x.ej)("tracker_manager"))&&this.$el instanceof HTMLElement,e=k()(this,"trackingInfo.id");if(t&&e&&(this.$el.dataset.trackWidgetName=k()(this,"trackingInfo.name"),this.$el.dataset.version=k()(this,"version"),this.$el.dataset.vertical=k()(this,"vertical"),this.$el.dataset.widgetName=k()(this,"componentName"),this.$el.dataset.widgetId=e),this.trackingOn)return null==this.asyncType?this._registerSendViewEvent():void this.hook("async::loaded",this._delayRegisterViewEvent,{once:!0})},methods:{getWidgetToken:function(){return this.widgetToken},sendAEvent:function(t,e){var n={widgetToken:this.widgetToken,pageToken:this.pageToken,userToken:this.userToken};return S.Z.send(n,t,e,this.isTrinityEvent)},_delayRegisterViewEvent:function(){if(this.widgetInViewport)return this._sendViewEvent();this._registerSendViewEvent()},_registerSendViewEvent:function(){this.registerViewportEvent(this._sendViewEvent,{once:!0})},_sendViewEvent:function(){this._sendAnalyticEvent(E.rr.WIDGET_VIEW_ACTION)},_sendAnalyticEvent:function(t){if(this.root)return!1;var e;if(this.isTrinityEvent&&(e=(0,P.zl)(),$.y.sendTrinityEvent({actionType:t,uuid:e,pageToken:this.pageToken,widgetToken:this.widgetToken,userToken:this.userToken})),!this.disableSendWidgetViewCE){var n={actionType:t,widget:this.trackingInfo};this.isTrinityEvent&&(n.uuid=e),$.y.sendComposerEvent(n)}}},mixins:[O,l]},I={props:{widgetsStatisticsTrackerMetrics:{type:[Object,String],default:function(){return{}}}},mounted:function(){var t=(k()(this.$store.state,"o3Params.x-o3-tracker-metrics")||"on"===(0,x.ej)("tracker_metrics"))&&this.$el instanceof HTMLElement,e=k()(this,"trackingInfo.id");t&&e&&(this.$el.dataset.widgetId=e,this.$el.dataset.widgetsStatisticsTrackerMetrics=k()(this,"widgetsStatisticsTrackerMetrics"))}};var N=n("54f23");const L={computed:{_showWidgetInfo:function(){return k()(this.$store.state,"o3Params."+N.t)&&this.$el instanceof HTMLElement&&this._widgetId},_widgetId:function(){return k()(this,"trackingInfo.id")}},methods:{handlerLoaderNextPage:function(t){if(this._showWidgetInfo){var e=document.querySelector("#debug-tool");e?(e.dispatchEvent(new CustomEvent("loadNextPage",{detail:{widgetId:this._widgetId,value:t}})),this.$el.dataset.layoutId=t.layoutTrackingInfo.layoutId,this.$el.dataset.layoutName=t.layoutTrackingInfo.layoutContainer,this.$el.dataset.layoutVersion=t.layoutTrackingInfo.layoutVersion):this.$logger.error("not found debug tool")}}},mounted:function(){if(this._showWidgetInfo){if(this.$el.dataset.widgetId=this._widgetId,this.$el.dataset.widgetName=k()(this,"componentName"),this.$el.dataset.vertical=k()(this,"vertical"),this.$el.dataset.version=k()(this,"version"),"paginator"===k()(this,"componentName")&&this.widgetInitialState.nextPage){var t=this.widgetInitialState.nextPage,e=new URL(t,"https://ozon.ru"),n=Number(e.searchParams.get("layout_page_index"));this.$el.dataset.currentPage=n}"megaPaginator"===k()(this,"componentName")&&this.currentPage&&(this.$el.dataset.currentPage=this.currentPage,this.$el.dataset.totalPages=this.totalPages)}}};var W=n("8fbe4"),C=n("7f03b"),j=n("070c6"),M={name:"BaseWidget",inheritAttrs:!1,data:function(){return{widgetState:this.widgetInitialState}},mixins:[l,A,O,I,n("d27d0").Z,W.Z,L],props:C.t,inject:{$informPaginatorMounted:{default:null},isMobile:{default:!1},isAccessibilityMode:{default:!1},useWidgetRender:{default:!1}},mounted:function(){var t=this;this.$el&&"function"==typeof this.$el.setAttribute&&this.$el.setAttribute("data-widget",this.componentName),this.$nextTick((function(){t.$informPaginatorMounted&&t.$informPaginatorMounted(t.stateId)}))},beforeCreate:function(){this.$options.propsData},created:function(){var t,e=this,n=this,o=n.widgetInitialState,r=n.stateId,c=n.asyncType;this.widgetInitialState&&Object.keys(this.widgetInitialState).length&&this.$stateObserver.next(((t={})[this.stateId]=this.widgetInitialState,t),!0),this.stateSubscription=this.$stateObserver&&this.$stateObserver.asObservable().subscribe((function(t){return null!==t&&null!=t[r]&&(t[r]!==e.widgetState&&void e.setWidgetState(t[r]))}));try{(0,j.Yw)(o,r,void 0!==c)}catch(t){this.logError(t)}},beforeDestroy:function(){this.stateSubscription&&this.stateSubscription.unsubscribe()},computed:{groupStatePath:function(){return[this.vertical,this.componentName].join(".")}},methods:{destroyWidget:function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.$store.dispatch("composer/REMOVE_WIDGET_BY_STATE_ID",this.stateId)];case 1:return t.sent(),[2]}}))}))},setWidgetState:function(t){var e,n=this,o=(0,j.V0)(t,(function(t){return n.logError(t)}));this.$stateObserver.next(((e={})[this.stateId]=o,e),!0),this.widgetState=o,void 0===this.asyncType&&this.$emit("state::loaded")},setWidgetStateValue:function(path,t){var e;return this.$stateObserver.next(((e={})[this.stateId]=this.widgetState,e),!0),c._0(this.widgetState,path,t)},setWidgetPlaceholders:function(t,e){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.$store.dispatch("composer/SET_WIDGET_PLACEHOLDER_BY_STATE_ID",{stateId:this.stateId,placeholder:{name:t,widgets:e}})];case 1:return n.sent(),[2]}}))}))},notEmptyPlaceholder:function(t){var e=(0,j.ph)(this.placeholders,t);return!!e&&Boolean(e.widgets.length)},getPlaceholderWidgets:function(t){var e=(0,j.ph)(this.placeholders,t);return e?e.widgets:[]},getLoggerParams:function(){var t=this;return{widget:t.componentName,stateId:t.stateId,vertical:t.vertical,error:t.widgetState.error}},logError:function(t){var e=this.getLoggerParams();t.setPayloadValue("widget",e.widget),t.setPayloadValue("stateId",e.stateId),t.setPayloadValue("error",e.error),t.setPayloadValue("vertical",e.vertical),this.$logger.error(t)}}};const D=r.default.extend(M)},"2b812":(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n("8135c");const r=function(t){return{extends:o.Z,data:function(){return{type:t}}}}},13588:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var o=n("98bae"),r=n("6876d"),c=n("066fb"),l=n("25a20");const d={name:"IndeterminateLoader",mixins:[n("d27d0").Z],data:function(){return{percent:0,show:!1,succeed:!0}},computed:(0,o.__assign)({},(0,r.rn)({o3params:function(t){return t.o3Params||{}}})),mounted:function(){this.startRouteLoading(this.start),this.endRouteLoading(this.finish)},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var t=this;this.clear(),this.percent=0,this.succeed=!0,this._throttle=setTimeout((function(){return t.startTimer()}),100)},finish:function(t){var e=t.status;if(e===c.T5.LOADING_CANCELLED)return this.clear(),!1;e===c.T5.LOADING_FAILURE&&(this.succeed=!1),this.percent=100,this.hide()},hide:function(){var t=this;this.clear(),setTimeout((function(){t.show=!1,t.$nextTick((function(){t.percent=0}))}),500)},startTimer:function(){var t=this;this.show||(this.show=!0),this._timer=setInterval((function(){t.percent=Math.min(100,Math.floor(t.percent+3))}),100)}},render:function(t){var e;if(!this.show||this.o3params[l.F])return t("");var n={staticClass:this.$style.loader,class:(e={},e[this.$style.succeed]=this.succeed,e[this.$style.failed]=!this.succeed,e),style:{width:this.percent+"%"}};return t("div",{staticClass:this.$style.progress},[t("div",n)])}},h={progress:"a",loader:"a0",succeed:"a1",failed:"a2"};const f=(0,n("b429c").Z)(d,undefined,undefined,!1,(function(t){this.$style=h.locals||h}),null,null).exports},"6ac76":(t,e,n)=>{"use strict";n.d(e,{Z:()=>v});var o=n("98bae"),r=n("066fb"),c=n("32cd6"),l=n("00391"),d=n("2a712"),h={UNSET:"",SELF:"_self",BLANK:"_blank",PARENT:"_parent",TOP:"_top"},f="noopener",m=function(t,e,n,c){return(0,o.__awaiter)(void 0,void 0,void 0,(function(){var f,m,y,v,w,_;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return f=r.F0.getInstance(),!e.target&&t.href||!n.click?(m=!!c&&(c.ctrlKey||c.metaKey||2===c.which||t.target===h.BLANK||"auxclick"===c.type),n.click&&n.click(c),c.defaultPrevented?[2,!1]:"#"===t.href[0]?(y=(0,l.E)(t.href),v=y.hash,w=y.offsetTop,_=w?{offsetTop:w}:void 0,(0,d.ZP)("#"+v,300,_),[2]):(c.preventDefault(),t.href.startsWith("http")?[2,f.redirect(t.href,m?"_blank":"_self")]:m?(f.redirect(t.href,"_blank"),[3,3]):[3,1])):(n.click(c),[2]);case 1:return[4,f[t.method](t.href,{silent:t.silent,scroll:t.scroll})];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))};const y={name:"ComposerLink",functional:!0,props:{href:c.default.oneOfType([c.default.string,c.default.bool]).def(!1),method:c.default.string.def("push"),silent:c.default.bool.def(!1),target:c.default.oneOf(Object.values(h)).def(h.UNSET),scroll:c.default.bool.def(!0)},render:function(t,e){var data=e.data,n=e.props,r=e.listeners,c=e.children;return data.attrs=data.attrs||{},n.target===h.BLANK&&-1===(data.attrs.rel||"").indexOf(f)&&(data.attrs.rel=data.attrs.rel?data.attrs.rel+" "+f:f),t("a",(0,o.__assign)((0,o.__assign)({},data),{attrs:(0,o.__assign)((0,o.__assign)({},data.attrs),{target:n.target||!1,href:n.href||!1}),on:(0,o.__assign)((0,o.__assign)({},r),{click:function(t){return m(n,data.attrs,r,t)},auxclick:function(t){return m(n,data.attrs,r,t)}})}),c)}};const v=(0,n("b429c").Z)(y,undefined,undefined,!1,null,null,null).exports},"203dc":(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var o=n("ec5a1"),r=n("fe938"),c=n("b403a");const l={name:"ErrorCapture",props:{widget:{type:[Function,String],required:!0},widgetProps:{type:Object,default:function(){return{}}},platform:{type:String,default:""}},data:function(){return{error:!1}},computed:{errorCheckWidget:function(){return this.error?"div":this.widget}},errorCaptured:function(t,e){var n=(0,c.A)(e),l="function"==typeof n.getLoggerParams,d=function(t,e){return e?t?o._.WIDGET_RENDER_ERROR:o._.UNKNOWN_WIDGET_ERROR:o._.UNCORRECT_WIDGET}(t.message,l),h=new r.m(d);if(h.setPayloadValue("error",t.message),h.setPayloadValue("stack",t.stack),h.setPayloadValue("component",e.$options.name),t.message&&null!==n&&l){var f=n.getLoggerParams();h.setPayloadValue("widget",f.widget),h.setPayloadValue("stateId",f.stateId),h.setPayloadValue("vertical",f.vertical)}return this.$logger.error(h),this.error=!0,!1}};const d=(0,n("b429c").Z)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.errorCheckWidget,t._g(t._b({tag:"component"},"component",t.widgetProps,!1),t.$listeners))}),[],!1,null,null,null).exports},"8135c":(t,e,n)=>{"use strict";n.d(e,{Z:()=>template});var o=n("203dc"),r=n("98bae"),c=n("ff287"),l=n.n(c),d=n("6876d"),h=n("b1b6c"),f=n("42cff"),m={};var y=n("ec5a1"),v=n("fe938");const w={name:"WidgetDisallowMixin",computed:{widgets:function(){for(var t=[],e=this.placeholders[this.placeIndex]||{},n=e.widgets&&e.widgets.length?e.widgets:[],o=0;o<n.length;o++)t.push(Object.assign({},n[o],{index:o}));return t},placeIndex:function(){if(!Array.isArray(this.placeholders))return-1;for(var i=0;i<this.placeholders.length;i++)if(this.placeholders[i].name===this.place)return i;return-1}},methods:{getAllowedComponents:function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=f.Z.places);for(var o={allowed:[],disallowed:[],nonexistent:[]},i=0;i<e.length;i++){var c=e[i],component=(0,r.__assign)({},c),l=(0,h.S)(component.vertical,component.component);component.name=l,component.index=i,m[l]||(m[l]={}),m[l][t]||(m[l][t]=(n[l]||[]).indexOf(t)>-1);var d=m[l][t]?"allowed":"disallowed";void 0===f.Z.content[l]&&(d="nonexistent"),o[d].push(component)}return o},sendDisallow:function(t,e){var n=e.map((function(component){return component.name})),component=l()(this.$parent,"$vnode.componentOptions.tag");t.setPayloadValue("component",component),t.setPayloadValue("disallowNames",n),t.setPayloadValue("placeholderName",this.placeholderName),this.$logger.error(t)},checkDisallow:function(t){void 0===t&&(t=[]);try{this.validateDisallow(t)}catch(e){this.sendDisallow(e,t)}},validateDisallow:function(t){void 0===t&&(t=[]);var e=l()(this.$store,"state.o3Params.x-o3-disable-placements");if(t.length&&"true"!==e)throw new v.m(y._.WIDGET_CANT_BE_RENDERED)},sendNonexistent:function(t,e){var n=e.map((function(component){return component.name})),component=l()(this.$parent,"$vnode.componentOptions.tag");t.setPayloadValue("component",component),t.setPayloadValue("nonexistNames",n),t.setPayloadValue("placeholderName",this.placeholderName),this.$logger.error(t)},checkNonexistent:function(t){void 0===t&&(t=[]);try{if(t.length)throw new v.m(y._.WIDGET_NOT_FOUND)}catch(e){this.sendNonexistent(e,t)}}}};var _=n("ce953"),O=n("c2e77");const T={name:"PlaceholderRenderMixin",data:function(){return{isServer:Boolean(!1)}},mixins:[(0,O.N)(),w],inject:{$informPaginatorMounted:{default:null},isMobile:{default:!1},layoutPath:{default:""},useWidgetRender:{default:!1},useBlockRender:{default:!1}},computed:(0,r.__assign)((0,r.__assign)({},(0,d.rn)({platform:function(t){return l()(t,"client.platform","undefined")}})),{placeholderName:function(){return[this.type,this.place].join(".")},useDefaultRender:function(){return!this.useWidgetRender&&!this.useBlockRender},usePartialRender:function(){return this.useWidgetRender||this.useBlockRender},replaceLayoutPath:function(){var path=this.layoutPath;return this.placeIndex<0?path:path+"["+this.placeIndex+"]"},renderingComponents:function(){var t=this.getAllowedComponents(this.placeholderName,this.widgets),e=t.allowed,n=t.disallowed,o=t.nonexistent;if(n&&n.length&&this.$informPaginatorMounted)for(var i=0;i<n.length;i++){var r=n[i];this.$informPaginatorMounted(r.stateId)}return this.checkDisallow(n),this.checkNonexistent(o),e}}),methods:{createComponent:function(component){try{var content=this.getComponentsContent()[component.name],t=this.isMobile?"mobile":"desktop",e=component.version&&component.version.toString()||"1";return(0,_.Z)(content,e,t)}catch(t){return this.$logger.error(t),"div"}},getWidgetProps:function(t){var e=t.params,n=t.widgetTrackingInfo,o=this.$config.get("memcachedEnable"),c={};"string"==typeof e?c=JSON.parse(e):"object"==typeof e&&(c=(0,r.__assign)({},e));var l=o&&t.etag?t.etag:null;return Object.assign(c,{componentName:t.component,asyncType:t.asyncType,asyncHash:t.asyncData,trackingOn:t.trackingOn,vertical:t.vertical,stateId:t.stateId,version:t.version,placeholders:t.placeholders,root:t.root,widgetToken:t.widgetToken,trackingInfoProp:n,widgetsStatisticsTrackerMetrics:t.widgetsStatisticsTrackerMetrics,etag:l,fromCache:!1,widgetInitialState:this.parseWidgetInitialState(t)})},parseWidgetInitialState:function(t){var e;if(t.stateId){var n=document.getElementById("state-"+t.stateId),o=n&&n.getAttribute("data-state"),r=l()(this.$stateObserver,"value["+t.stateId+"]")||o;"string"==typeof r&&(r=JSON.parse(r)),e=r||{}}return e},getComponentsContent:function(){return f.Z.content||{}}}},k={components:{ErrorCapture:o.Z},mixins:[T],props:{placeholders:{type:Array,default:function(){return[]}},place:{type:String,default:"default"},tagName:{type:String,default:"div"}}};const template=(0,n("b429c").Z)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.useDefaultRender||t.usePartialRender&&!t.isServer?n(t.tagName,{tag:"component"},[t._l(t.renderingComponents,(function(e,o){return[t.defer(e.defer||0)?n("ErrorCapture",t._g({key:(e.stateId||"empty")+"-"+o,attrs:{widget:t.createComponent(e),"widget-props":t.getWidgetProps(e),platform:t.platform}},t.$listeners)):t._e()]}))],2):t.placeIndex<0?n(t.tagName,{tag:"component",attrs:{"data-widget-disallow":t.replaceLayoutPath}}):n(t.tagName,{tag:"component",attrs:{"data-replace-layout-path":t.replaceLayoutPath}},[t._v("#CONTENT#")])}),[],!1,null,null,null).exports},"6bf51":(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var o=n("5eabe"),r=n("d336c"),c=n.n(r),l=n("eb167"),d=n("b8a65"),h=n("508ef"),f=n("b5d21");function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){(0,o.Z)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}const v={name:"AccessibilityButton",components:{AtomSmallButtonWithIcon:l.Z},mixins:[f.a],inject:{sendAEventInjection:{default:function(){return function(){}}}},props:{text:{type:String,default:""},icon:{type:String,default:""},theme:{type:String,default:""},action:{type:Object,default:null},testInfo:{type:Object,default:function(){return{}}},trackingInfo:{type:Object,default:function(){return{}}}},methods:{detectViewportSettings(view){var t=this;return{once:!0,callback:function(){return t.sendAnalyticsEvents({data:view,actionType:"view_ui"})}}},sendAnalyticsEvents(t){var data=t.data,e=t.actionType;data?this.sendAEventInjection(data):d.y.sendComposerEvent({actionType:e,widget:{name:"accessibility.eyesight"},composer:{custom:{type:"ui",elementType:"button",title:this.$i18n.t("ar")}}})},onBeforeAtomAction(t,e){e.click||this.sendAnalyticsEvents({data:e.click,actionType:"click_ui"});var n=new(c())(this.$composerRouter.current,!0);return n.set("query",y(y({},n.query),{},{[t.id]:1})),{behavior:h.t.Redirect,link:n.toString(),params:{target:"_self"}}}}};const w=(0,n("b429c").Z)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport",value:t.detectViewportSettings(t.trackingInfo.view),expression:"detectViewportSettings(trackingInfo.view)"}]},[n("AtomSmallButtonWithIcon",t._b({on:{click:t.onAtomAction}},"AtomSmallButtonWithIcon",t.$props,!1))],1)}),[],!1,null,null,null).exports},"9f1b4":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>L});var o=n("5eabe"),r=n("9769e"),c=n("d336c"),l=n.n(c),d=n("1ae5f"),h=n("32cd6");const f={name:"ButtonsGroup",functional:!0,props:{title:h.default.string,active:h.default.string,type:h.default.string,buttons:h.default.arrayOf(h.default.shape({text:h.default.string,q:h.default.string}))},render(t,e){var n=e.props,o=e._v,r=e.listeners,c=e.$style,l=n.title,title=void 0===l?"":l,h=n.buttons,f=void 0===h?[]:h,m=n.active,y=void 0===m?0:m,v=n.type,w=void 0===v?"font":v;return t("p",{class:c.section},[o(title)].concat((0,d.Z)(f.map((function(e,n){var l=e.text,text=void 0===l?"":l,d=e.q,q=void 0===d?"":d;return t("button",{class:[c.button,{[c.active]:q===y}],key:n,on:{click:function(){return r.click({type:w,q,text})}}},[o(text)])})))))}},m={section:"ne",button:"en0",active:"e0n"};var y=n("b429c");const v=(0,y.Z)(f,undefined,undefined,!1,(function(t){this.$style=m.locals||m}),null,null).exports;var w=n("d68e9"),_=n("b8a65");function O(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function T(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(e){(0,o.Z)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var k="s",P="m",E="l",S="hue",$="rd",x="grn",A="bw";const I=r.Z.extend({name:"AccessibilityMode",components:{ButtonsGroup:v,OzButton:w.OzButton,OzCheckbox:w.OzCheckbox},inject:{isAccessibilityMode:{default:!1},disableImages:{default:!1},sizeMode:{default:k},colorMode:{default:S}},data(){var t=Object.freeze({fontGroup:[{text:this.$i18n.t("av"),q:k},{text:this.$i18n.t("aw"),q:P},{text:this.$i18n.t("ax"),q:E}],contrastGroup:[{text:this.$i18n.t("ay"),q:S},{text:this.$i18n.t("az"),q:$},{text:this.$i18n.t("a0"),q:x},{text:this.$i18n.t("a1"),q:A}]});return{html:null,activeSettings:{font:k,contrast:S},buttons:t,fontGroupTitle:this.$i18n.t("as"),imageToggleTitle:this.$i18n.t("at"),a11yModeOffButtonText:this.$i18n.t("au")}},mounted(){this.isAccessibilityMode&&this.setFontSize(this.sizeMode)},methods:{toUsuallyMode(){var t=new(l())(this.$composerRouter.current,!0);t.set("query",T(T({},t.query),{},{accessibilityMode:0})),this.html&&this.html.removeAttribute("style"),this.sendClickAnalyticsEvent(),this.$composerRouter.redirect(t)},onImageToggle(t){var e=new(l())(this.$composerRouter.current,!0);e.set("query",T(T({},e.query),{},{acm_dsim:Number(!t)})),this.sendSliderAnalyticsEvent(!t),this.$composerRouter.redirect(e)},onClick(t){var e=t.type,n=t.q,text=t.text,o=new(l())(this.$composerRouter.current,!0),r={};"FONT"===e&&(r.acm_sz=n),"CONTRAST"===e&&(r.acm_clr=n),o.set("query",T(T({},o.query),r)),this.sendSetAnalyticsEvent(text),this.$composerRouter.replace(o.toString())},setFontSize(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;switch(this.html||(this.html=document.querySelector("html")),t){case k:this.html.style.fontSize="18px";break;case P:this.html.style.fontSize="22px";break;case E:this.html.style.fontSize="26px";break;default:this.html.style.fontSize="18px"}this.activeSettings.font=t},sendSetAnalyticsEvent(t){_.y.sendComposerEvent({actionType:"click_ui",widget:{name:"settings.accessibility.eyesight"},composer:{custom:{type:"ui",elementType:"button",title:t}}})},sendSliderAnalyticsEvent(t){_.y.sendComposerEvent({actionType:"set",widget:{name:"settings.accessibility.eyesight"},composer:{custom:{type:"ui",elementType:"slider",title:this.$i18n.t("a2"),status:t?"on":"off"}}})},sendClickAnalyticsEvent(){_.y.sendComposerEvent({actionType:"click_ui",widget:{name:"accessibility.eyesight"},composer:{custom:{type:"ui",elementType:"button",title:this.$i18n.t("au")}}})}}}),N={allyDesk:"ne0",container:"n0e",allySection:"en1",allyOff:"e1n",imageToggle:"ne1"};const L=(0,y.Z)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isAccessibilityMode?n("section",{directives:[{name:"qa",rawName:"v-qa:id",value:"accessibility-desk",expression:"'accessibility-desk'",arg:"id"}],class:t.$style.allyDesk,attrs:{id:"accessibility-desk"}},[n("div",{class:t.$style.container},[n("ButtonsGroup",{attrs:{title:t.fontGroupTitle,type:"FONT",buttons:t.buttons.fontGroup,active:t.activeSettings.font},on:{click:t.onClick}}),t._v(" "),n("p",{class:t.$style.allySection},[t._v("\n      "+t._s(t.imageToggleTitle)+"\n      "),n("OzCheckbox",{class:t.$style.imageToggle,attrs:{checked:!t.disableImages,theme:"toggle"},on:{change:t.onImageToggle,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.onImageToggle.apply(null,arguments)}}})],1),t._v(" "),n("OzButton",{directives:[{name:"qa",rawName:"v-qa:id",value:"accessibility-off-button",expression:"'accessibility-off-button'",arg:"id"}],class:t.$style.allyOff,attrs:{text:t.a11yModeOffButtonText},on:{click:t.toUsuallyMode,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toUsuallyMode.apply(null,arguments)}}})],1)]):t._e()}),[],!1,(function(t){this.$style=N.locals||N}),null,null).exports},"277db":(t,e,n)=>{"use strict";n.d(e,{Z:()=>v});var o=n("98bae"),r=n("ff287"),c=n.n(r),l=n("d68e9"),d=n("d27d0"),h=n("2f84b"),f=n("6ae26");const m={name:"ModalLayout",components:{OzModal:l.OzModal,OzLoader:l.OzLoader,LayoutBlockVertical:h.default},mixins:[d.Z],inject:{isMobile:{default:!1},isAccessibilityMode:{default:!1}},provide:function(){return{isModal:!0}},computed:{options:function(){var t=c()(this.$store.state,"shared.layoutModalOptions",{});return(0,f.h)(t,l.OzModal.props,!0)},position:function(){var t=this.options.position||{},e=Object.entries(t);return{position:e.every((function(t){return"number"==typeof(0,o.__read)(t,2)[1]}))&&e.length?"absolute":"relative",top:t.top-32+"px",left:t.left-40+"px"}},theme:function(){return c()(this.options,"theme","empty")},closeButton:function(){return c()(this.options,"closeButton",!0)},noSelfClose:function(){return c()(this.options,"noSelfClose",!1)},placeholders:function(){return[{name:"default",widgets:c()(this.$store.state,"layoutModal",[])}]},hasWidgets:function(){return this.placeholders[0].widgets&&this.placeholders[0].widgets.length}},mounted:function(){var t=this;document.addEventListener("keydown",this.checkEscapeKey),this.endRouteLoading((function(){t.close()}))},beforeDestroy:function(){document.removeEventListener("keydown",this.checkEscapeKey)},methods:{close:function(){this.$store.dispatch("composer/CLOSE_MODAL")}}},y={modal:"n1e",modAlly:"en2",blockVertical:"e2n",loader:"ne2",mobile:"n2e"};const v=(0,n("b429c").Z)(m,(function(){var t,e=this,n=e.$createElement,o=e._self._c||n;return e.options.showModal?o("OzModal",{attrs:{"scrolling-wrapper":!e.options.withScroll,"close-button-position":e.options.closeButtonPosition,"is-mobile-theme":e.isMobile,centered:!e.options.notCentered,theme:e.theme,"close-button":e.closeButton,"no-self-close":e.noSelfClose,"test-info":{automatizationCloseId:"modal-close"}},on:{close:e.close}},[o("div",{class:[e.$style.modal,e.isAccessibilityMode&&e.$style.modAlly]},[e.hasWidgets?o("LayoutBlockVertical",{class:e.$style.blockVertical,attrs:{placeholders:e.placeholders,"component-name":"blockVertical",vertical:"layout",theme:e.theme,root:""}}):o("div",{directives:[{name:"qa",rawName:"v-qa",value:{id:"five-dots-loader"},expression:"{id: 'five-dots-loader'}"}],class:[e.$style.loader,(t={},t[e.$style.mobile]=e.isMobile,t)]},[o("OzLoader",{attrs:{size:"l"}})],1)],1)]):e._e()}),[],!1,(function(t){this.$style=y.locals||y}),null,null).exports},"4c2d3":(t,e,n)=>{"use strict";n.d(e,{Z:()=>P});var o=n("5eabe"),r=n("ff287"),c=n.n(r),l=n("d68e9"),d=n("462cb"),h=n("3e4ea"),f=n("3a3e1"),m=n("13bbd"),y=n("c1809"),v=n("b5d21");function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){(0,o.Z)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var O={textMedium:f.Z,progressBarSigned:m.Z,smallButton:y.Z};const T={name:"NotifyLayout",components:{OzTransition:l.OzTransition,LayoutBlockVertical:function(){return Promise.resolve().then(n.bind(n,"2f84b"))}},mixins:[v.a],inject:{isMobile:{default:!1}},data:()=>({mods:["modNotification"],timeOut:null}),computed:{crossComponent(){return this.isMobile?d.U:h.B},options(){return c()(this.$store.state,"shared.layoutNotifyOptions",{})},show(){return this.options.showNotify},notEmptyPlaceholders(){return this.placeholders.length},placeholderWidgets(){return((this.placeholders||[]).find((function(t){return"default"===t.name})).widgets||{}).map((function(t){return{component:O[t.type]||null,props:_({},t)}}))},placeholders(){return[{name:"default",widgets:c()(this.$store.state,"layoutNotify",[])}]}},watch:{show(t){t&&this.updateTimeout()},placeholders(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t[0]&&t[0].widgets).length&&this.updateTimeout()}},methods:{close(){this.$store.dispatch("composer/CLOSE_NOTIFY")},getAtomClass(t){var e;switch(t){case"textMedium":e="modText";break;case"smallButton":e="modButton";break;case"progressBarSigned":e="modProgressBar";break;default:e=""}return this.$style[e]},updateTimeout(){var t=this;this.timeOut&&clearTimeout(this.timeOut),this.timeOut=setTimeout((function(){t.$store.commit("deepSet",{path:"shared.layoutNotifyOptions.showNotify",value:!1})}),5e3)},onSwipe(t){["left","right","top"].includes(t)&&this.close()},onTouchStart(t){this.baseTouchX=c()(t,"touches[0].clientX",0),this.baseTouchY=c()(t,"touches[0].clientY",0),this.movingX=null},onTouchEnd(){var t=this;setTimeout((function(){t.$refs.container&&(t.$refs.container.style.top="8px",t.$refs.container.style.left=0,t.$refs.container.style.right=0)}),0)},onMove(t){var e=this,n=this.baseTouchX-c()(t,"touches[0].clientX",0),o=this.baseTouchY-c()(t,"touches[0].clientY",0);this.movingX=null===this.movingX?Math.abs(n)>Math.abs(o):this.movingX,requestAnimationFrame((function(){e.$refs.container&&(e.movingX?(e.$refs.container.style.left="".concat(-n,"px"),e.$refs.container.style.right="".concat(n,"px")):o>0&&(e.$refs.container.style.top="".concat(8-o,"px")))}))}}},k={notifyContainer:"en3",close:"e3n",molecula:"ne3",modText:"n3e",modButton:"en4",modProgressBar:"e4n"};const P=(0,n("b429c").Z)(T,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("OzTransition",[t.options.showNotify&&t.notEmptyPlaceholders?n("div",{directives:[{name:"touch",rawName:"v-touch:swipe",value:t.isMobile&&t.onSwipe,expression:"isMobile && onSwipe",arg:"swipe"},{name:"touch",rawName:"v-touch:start",value:t.isMobile&&t.onTouchStart,expression:"isMobile && onTouchStart",arg:"start"},{name:"touch",rawName:"v-touch:moving",value:t.isMobile&&t.onMove,expression:"isMobile && onMove",arg:"moving"},{name:"touch",rawName:"v-touch:end",value:t.isMobile&&t.onTouchEnd,expression:"isMobile && onTouchEnd",arg:"end"}],ref:"container",class:t.$style.notifyContainer},[t.options.nuclear?[n("section",{class:t.$style.molecula},t._l(t.placeholderWidgets,(function(e,o){return n(e.component,t._b({key:o,tag:"component",class:t.getAtomClass(e.props.type),attrs:{mods:t.mods},on:{click:t.onAtomAction}},"component",e.props,!1))})),1)]:[n("LayoutBlockVertical",{attrs:{placeholders:t.placeholders,root:!0,"component-name":"blockVertical",vertical:"layout"}})],t._v(" "),n(t.crossComponent,{tag:"component",class:t.$style.close,on:{click:t.close}})],2):t._e()])}),[],!1,(function(t){this.$style=k.locals||k}),null,null).exports},f72b0:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>W});var o=n("5eabe"),r=n("9769e"),c=n("98bae"),l=n("6876d"),d=n("65282"),h=n("225bf"),f=n("2b812"),m=n("ac78b");const y={inheritAttrs:!1,data:function(){return{isLoading:!1}},props:{widgetState:{type:Object,required:!0},placeholders:{type:Array,default:function(){return[]}}},mixins:[d.z,h._,m.Z],computed:{hasNextPage:function(){return!!this.widgetState.nextPage}},methods:(0,c.__assign)((0,c.__assign)((0,c.__assign)({},(0,l.nv)("composer",{getComposerPage:"GET_PARSED_API_RESPONSE"})),(0,l.nv)({setSharedState:"SET_SHARED_STATE",setTrackingPayloads:"SET_TRACKING_PAYLOADS"})),{setNextPage:function(t){this.$emit("setWidgetStateValue","nextPage",t||null)},setContent:function(content){return(0,c.__awaiter)(this,void 0,void 0,(function(){return(0,c.__generator)(this,(function(t){return this.$emit("setWidgetPlaceholders","default",content),[2]}))}))},resetLoading:function(){this.isLoading=!1},fetchNextPage:function(){return(0,c.__awaiter)(this,void 0,void 0,(function(){var t,e,n,o,r,l,d;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:if(!this.widgetState.nextPage||this.isLoading)return[2,!1];this.startCountPerformance(this.widgetState.nextPage),this.isLoading=!0,t={nextPage:null,widgetStates:null,layout:[],shared:{},trackingPayloads:{}},c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.getComposerPage({url:this.widgetState.nextPage})];case 2:return e=c.sent(),t=e||t,[3,4];case 3:return c.sent(),this.resetLoading(),[3,4];case 4:return n=t.nextPage,o=t.layout,r=t.widgetStates,l=t.shared,d=t.trackingPayloads,this.swPrefetchNextPage(t),null!=r&&this.$stateObserver.next(r),this.setNextPage(n),l&&Object.keys(l).length&&this.setSharedState(l),d&&Object.keys(d).length&&this.setTrackingPayloads(d),o&&o.length?[4,this.setContent(o)]:[3,6];case 5:c.sent(),c.label=6;case 6:return this.$emit("loadNextPage",t),this.resetLoading(),this.trackWidgetsTimeSpent("PAGE_PART"),[2]}}))}))}}),components:{PlaceholderRender:(0,f.Z)("paginator")}};var v=n("d27d0"),w=n("d68e9"),_=n("32cd6");function O(t,e){void 0===t&&(t=[]);for(var i=0;i<t.length;i++){var n=t[i];if(n.widgets&&n.widgets.length)for(var o=0;o<n.widgets.length;o++)e(n.widgets[o].stateId),O(n.widgets[o].placeholders,e)}}const T={components:{OzLoader:w.OzLoader},extends:y,mixins:[v.Z],provide:function(){return{$informPaginatorMounted:this.unRegisterWidget}},props:{offsetTop:_.default.number.def(2400),minHeight:_.default.number.def(0),isContentVisibilityAuto:_.default.bool.def(!1)},data:function(){return{pagerVisible:!1,isDetectDisabled:!1,countNestedWidgets:0,isFirstPageLoaded:!1}},computed:{detectViewportSettings:function(){return{unbind:this.isDetectDisabled,callback:this.onScroll.bind(this),top:this.minHeight+"px",bottom:(this.offsetTop||2400)+"px"}},showLoader:function(){return this.isLoading||!!this.countNestedWidgets}},watch:{placeholders:{handler:function(t){void 0===t&&(t=[]),t.length&&!this.isFirstPageLoaded&&O(t,this.registerWidget)},immediate:!0}},mounted:function(){var t=this;this.awaitWidgets={},this.timer=null,this.endRouteLoading((function(){t.isLoading=!1,t.pagerVisible=!1,t.isDetectDisabled=!1,t.countNestedWidgets=0,t.isFirstPageLoaded=!1}))},beforeDestroy:function(){clearTimeout(this.timer)},methods:{onScroll:function(t){return(0,c.__awaiter)(this,void 0,void 0,(function(){return(0,c.__generator)(this,(function(e){switch(e.label){case 0:return!t||this.isLoading?[2]:(this.pagerVisible=t,this.isDetectDisabled=!0,[4,this.fetchNextPage()]);case 1:return e.sent(),this.isFirstPageLoaded||this.startTimerFirstPageWidgets(),this.isDetectDisabled=!1,[2]}}))}))},whenLoaderInView:function(t){t&&"number"!=typeof this.loaderBecameVisibleAt&&(this.loaderBecameVisibleAt=performance.now())},registerWidget:function(t){this.awaitWidgets&&!Object.prototype.hasOwnProperty.call(this.awaitWidgets,t)&&(this.awaitWidgets[t]=1,this.countNestedWidgets++)},unRegisterWidget:function(t){if(this.awaitWidgets)return Object.prototype.hasOwnProperty.call(this.awaitWidgets,t)?(this.countNestedWidgets--,void(0===this.countNestedWidgets&&this.showFirstPageWidgets())):void(this.isFirstPageLoaded||0!==Object.keys(this.awaitWidgets).length||this.showFirstPageWidgets())},startTimerFirstPageWidgets:function(){clearTimeout(this.timer),this.timer=setTimeout(this.showFirstPageWidgets,3e3)},showFirstPageWidgets:function(){this.countNestedWidgets=0,this.isFirstPageLoaded=!0,this.awaitWidgets={}}}},k={scrollChecker:"n4e",spinner:"en5",hide:"e5n"};var P=n("b429c");const E=(0,P.Z)(T,(function(){var t,e=this,n=e.$createElement,o=e._self._c||n;return o("div",{directives:[{name:"no-body-scroll-anchoring",rawName:"v-no-body-scroll-anchoring"}],style:{minHeight:(e.isFirstPageLoaded?0:e.minHeight)+"px",contentVisibility:!!e.isContentVisibilityAuto&&"auto"}},[o("PlaceholderRender",{class:(t={},t[e.$style.hide]=e.countNestedWidgets,t),attrs:{placeholders:e.placeholders}}),e._v(" "),e.hasNextPage?o("div",{ref:"checker",class:e.$style.scrollChecker},[o("div",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport",value:e.detectViewportSettings,expression:"detectViewportSettings"}],ref:"detector"})]):e._e(),e._v(" "),e.showLoader?o("div",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport",value:{once:!0,callback:e.whenLoaderInView},expression:"{\n      once: true,\n      callback: whenLoaderInView,\n    }"}]},[o("OzLoader",{directives:[{name:"qa",rawName:"v-qa:id",value:"scroll-loader",expression:"'scroll-loader'",arg:"id"}],class:e.$style.spinner,attrs:{size:"l"}})],1):e._e()],1)}),[],!1,(function(t){this.$style=k.locals||k}),null,null).exports;const S={components:{OzButton:w.OzButton},extends:y,inject:{isMobile:{default:!1}},data:function(){return{fetchButtonText:this.$i18n.t("w")}}},$={cont:"ne4"};const x=(0,P.Z)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("PlaceholderRender",{attrs:{placeholders:t.placeholders}}),t._v(" "),t.hasNextPage?n("div",{class:t.$style.cont},[n("OzButton",{attrs:{size:"xl",text:t.fetchButtonText,loading:t.isLoading,fill:t.isMobile},on:{click:t.fetchNextPage}})],1):t._e()],1)}),[],!1,(function(t){this.$style=$.locals||$}),null,null).exports;function A(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function I(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?A(Object(source),!0).forEach((function(e){(0,o.Z)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):A(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var N={SCROLL:"scroll",BUTTON:"button",DEFAULT:""};const L=r.Z.extend({name:"ComposerPaginator",props:I(I({},E.props),{},{fetchType:_.default.oneOf(Object.values(N)).def(N.DEFAULT)}),data:()=>({FETCH_TYPE:N}),components:{ScrollPaginator:E,ButtonPaginator:x}});const W=(0,P.Z)(L,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.fetchType===t.FETCH_TYPE.SCROLL?"ScrollPaginator":"ButtonPaginator",{tag:"component",attrs:{"widget-state":t.widgetState,placeholders:t.placeholders,"offset-top":t.offsetTop,"min-height":t.minHeight,"is-content-visibility-auto":t.isContentVisibilityAuto},on:{loadNextPage:t.handlerLoaderNextPage,setWidgetStateValue:t.setWidgetStateValue,setWidgetPlaceholders:t.setWidgetPlaceholders}})}),[],!1,null,null,null).exports}}]);